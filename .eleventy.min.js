const yaml=require("js-yaml"),{DateTime:DateTime}=require("luxon"),syntaxHighlight=require("@11ty/eleventy-plugin-syntaxhighlight"),htmlmin=require("html-minifier"),markdownIt=require("markdown-it"),md=new markdownIt({html:!0});module.exports=function(eleventyConfig){return eleventyConfig.addFilter("markdown",content=>md.render(content)),eleventyConfig.setUseGitIgnore(!1),eleventyConfig.setDataDeepMerge(!0),eleventyConfig.addFilter("readableDate",dateObj=>DateTime.fromJSDate(dateObj,{zone:"utc"}).toFormat("dd LLL yyyy")),eleventyConfig.addPlugin(syntaxHighlight),eleventyConfig.addDataExtension("yaml",contents=>yaml.safeLoad(contents)),eleventyConfig.addPassthroughCopy({"./src/admin/config.yml":"./admin/config.yml","./node_modules/alpinejs/dist/alpine.js":"./static/js/alpine.js","./node_modules/prismjs/themes/prism-tomorrow.css":"./static/css/prism-tomorrow.css"}),eleventyConfig.addPassthroughCopy("./src/static/img"),eleventyConfig.addPassthroughCopy("./src/favicon.ico"),eleventyConfig.addTransform("htmlmin",(function(content,outputPath){if(outputPath.endsWith(".html")){let minified;return htmlmin.minify(content,{useShortDoctype:!0,removeComments:!0,collapseWhitespace:!0})}return content})),{dir:{input:"src"},htmlTemplateEngine:"njk"}};